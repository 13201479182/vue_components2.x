(function(t){function e(e){for(var i,s,r=e[0],l=e[1],c=e[2],u=0,d=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);h&&h(e);while(d.length)d.shift()();return a.push.apply(a,c||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],i=!0,s=1;s<o.length;s++){var r=o[s];0!==n[r]&&(i=!1)}i&&(a.splice(e--,1),t=l(l.s=o[0]))}return t}var i={},s={app:0},n={app:0},a=[];function r(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-020af6c8":"bd3a24e2"}[t]+".js"}function l(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,l),o.l=!0,o.exports}l.e=function(t){var e=[],o={"chunk-020af6c8":1};s[t]?e.push(s[t]):0!==s[t]&&o[t]&&e.push(s[t]=new Promise((function(e,o){for(var i="css/"+({}[t]||t)+"."+{"chunk-020af6c8":"19c57a2c"}[t]+".css",n=l.p+i,a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var c=a[r],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===i||u===n))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){c=d[r],u=c.getAttribute("data-href");if(u===i||u===n)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var i=e&&e.target&&e.target.src||n,a=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=i,delete s[t],h.parentNode.removeChild(h),o(a)},h.href=n;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){s[t]=0})));var i=n[t];if(0!==i)if(i)e.push(i[2]);else{var a=new Promise((function(e,o){i=n[t]=[e,o]}));e.push(i[2]=a);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=r(t);var d=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(h);var o=n[t];if(0!==o){if(o){var i=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",d.name="ChunkLoadError",d.type=i,d.request=s,o[1](d)}n[t]=void 0}};var h=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=i,l.d=function(t,e,o){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(o,i,function(e){return t[e]}.bind(null,i));return o},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var h=u;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"430b":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);var i=o("2b0e"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},n=[],a={name:"App"},r=a,l=(o("5c0b"),o("5c64"),o("2877")),c=Object(l["a"])(r,s,n,!1,null,null,null),u=c.exports,d=o("8c4f");i["default"].use(d["a"]);const h=[{name:"Root",path:"/",meta:"根路由",component:()=>o.e("chunk-020af6c8").then(o.bind(null,"56e0"))},{path:"*",redirect:"/"}];var f=new d["a"]({routes:h}),p=f;o("bf7d");class g{constructor(){this.dialogs=[],this.index=999}addDialog(t){"object"===typeof t&&t instanceof i["default"]&&this.dialogs.push(t)}removeDialog(t){if("object"===typeof t&&t instanceof i["default"]){var e=this.dialogs.indexOf(t);e>-1&&this.dialogs.splice(e,1)}}}i["default"].prototype.$dragDialogs=new g;var v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"drag-dialog"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"},{name:"drag",rawName:"v-drag",value:t.draggable&&t.dragNodeIsParent,expression:"draggable && dragNodeIsParent"}],ref:"dialog",staticClass:"global-drag-dialog",style:{zIndex:t.index},on:{click:t.click}},[o("input",{ref:"input",attrs:{type:"text",maxlength:"0"}}),o("div",{directives:[{name:"drag",rawName:"v-drag",value:t.draggable&&!t.dragNodeIsParent,expression:"draggable && !dragNodeIsParent"}],staticClass:"header"},[o("span",{staticClass:"title"},[t._v(" "+t._s(t.title)+" ")]),o("span",{staticClass:"close",attrs:{title:"关闭"},on:{click:t.closeDialog}})]),o("div",{staticClass:"content"},[t._t("default")],2),o("div",{staticClass:"footer"},[t._t("footer")],2),t.scaleable?o("div",{staticClass:"dots",style:t.isShowDots?{opacity:1}:{opacity:0}},[o("div",{ref:"dot1",staticClass:"dot1"}),o("div",{ref:"dot2",staticClass:"dot2"}),o("div",{ref:"dot3",staticClass:"dot3"}),o("div",{ref:"dot4",staticClass:"dot4"}),o("div",{ref:"dot5",staticClass:"dot5"}),o("div",{ref:"dot6",staticClass:"dot6"}),o("div",{ref:"dot7",staticClass:"dot7"}),o("div",{ref:"dot8",staticClass:"dot8"})]):t._e(),t.isHasOwnMenu&&t.isShowContextMenu?o("ContextMenu",{attrs:{position:t.contextMenuPosition,scaleable:t.scaleable,isShowDots:t.isShowDots,isShowContextMenu:t.isShowContextMenu},on:{"update:isShowDots":function(e){t.isShowDots=e},"update:is-show-dots":function(e){t.isShowDots=e},"update:isShowContextMenu":function(e){t.isShowContextMenu=e},"update:is-show-context-menu":function(e){t.isShowContextMenu=e}}}):t._e()],1)])},m=[],w=o("1157"),b=o.n(w),x={directives:{drag:{update:(t,e,o)=>{var i=null,s=null,n=null,a=0,r=0,l=0,c=0,u=0,d=0;if(e.value){var h=o.context;i=b()(t),n=b()(document),s="header"===b()(t)[0].className?b()(t).parent():b()(t),a=n.width()-s.width(),r=n.height()-s.height(),i[0].onmousedown=t=>{t.stopPropagation(),o.context.index=h.$dragDialogs.index++,i.css({cursor:"move"}),l=t.clientX-i.offset().left,c=t.clientY-i.offset().top,n[0].onmousemove=t=>{t.stopPropagation();let e=t.clientX,o=t.clientY;h.dragPosIsOverDoc?(u=o-c,d=e-l):(u=o-c<0?0:o-c>r?r:o-c,d=e-l<0?0:e-l>a?a:e-l),s.css({top:u,left:d})},n[0].onmouseup=t=>{t.stopPropagation(),n[0].onmousemove=null,i.css({cursor:"default"})}}}}}}},y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{style:t.styleList,attrs:{id:"drag-dialog-contextmenu"}},[o("ul",t._l(t.menusList,(function(e){return o("li",{key:e.id,class:e.disabled?"disabled":"",on:{click:function(t){return t.stopPropagation(),e.click(e)}}},[e.isShow?o("div",[o("span",[t._v(t._s(e.label))])]):t._e()])})),0)])},C=[],S={props:{isShowContextMenu:{type:Boolean},position:{type:Array,required:!0},isShowDots:{type:Boolean,required:!0},scaleable:{type:Boolean,default:!1},isShowContextMenu:{type:Boolean,required:!0}},data(){return{menusList:[]}},computed:{styleList(){return{left:this.position[0]+"px",top:this.position[1]+"px"}}},methods:{closeContextMenu(){this.$emit("update:isShowContextMenu",!1)},showDots(){this.$emit("update:isShowDots",!0)},hideDots(){this.$emit("update:isShowDots",!1)},initMenuList(){var t=[{id:1,label:"显示缩放顶点",isShow:!!this.scaleable,disabled:!!this.isShowDots,click:t=>{this.isShowDots||(this.showDots(),this.closeContextMenu())}},{id:2,label:"隐藏缩放顶点",isShow:!!this.scaleable,disabled:!this.isShowDots,click:t=>{this.isShowDots&&(this.hideDots(),this.closeContextMenu())}}];this.menusList=t}},created(){this.initMenuList()}},$=S,D=(o("efed"),Object(l["a"])($,y,C,!1,null,"4a0b2234",null)),P=D.exports;function M(t,e,o){var i=b()(document),s=e.css("min-width").slice(0,-2)-0,n=e.css("min-height").slice(0,-2)-0;t.on("mousedown",t=>{t.stopPropagation();var a=e.width(),r=e.height(),l=e.offset(),c=l.left+a,u=l.top+r;e.css({right:c,bottom:u}),i.on("mousemove",t=>{if(t.stopPropagation(),t.clientX<0||t.clientY<0)o();else{var i=t.clientY+n>u?u-n:t.clientY,a=t.clientX+s>c?c-s:t.clientX;e.width(c-t.clientX),e.height(u-t.clientY),e.css({top:i+"px",left:a+"px"})}})})}function k(t,e,o){var i=b()(document),s=e.css("min-height").slice(0,-2)-0;t.on("mousedown",t=>{t.stopPropagation();var n=e.offset().top+e.height();e.css({bottom:n}),i.on("mousemove",t=>{if(t.stopPropagation(),t.clientY<0)o();else{var i=t.clientY+s>n?n-s:t.clientY;e.height(n-t.clientY),e.css({top:i+"px"})}})})}function _(t,e,o){var i=b()(document),s=i.width(),n=e.css("min-height").slice(0,-2)-0;t.on("mousedown",t=>{t.stopPropagation();var a=e.offset(),r=a.left,l=a.top+e.height();e.css({left:r,bottom:l}),i.on("mousemove",t=>{if(t.stopPropagation(),t.clientX>s||t.clientY<0)o();else{var i=t.clientY+n>l?l-n:t.clientY;e.width(t.clientX-r),e.height(l-t.clientY),e.css({top:i+"px",right:t.clientX+"px"})}})})}function X(t,e,o){var i=b()(document),s=e.css("min-width").slice(0,-2)-0;t.on("mousedown",t=>{t.stopPropagation();var n=e.offset().left+e.width();e.css({right:n}),i.on("mousemove",t=>{if(t.stopPropagation(),t.clientX<0)o();else{var i=t.clientX+s>n?n-s:t.clientX;e.width(n-t.clientX),e.css({left:i+"px"})}})})}function Y(t,e,o){var i=b()(document),s=i.width();t.on("mousedown",t=>{t.stopPropagation();var n=e.offset().left;e.css({left:n}),i.on("mousemove",t=>{t.stopPropagation(),t.clientX>s?o():(e.width(t.clientX-n),e.css({right:t.clientX+"px"}))})})}function O(t,e,o){var i=b()(document),s=i.height(),n=e.css("min-width").slice(0,-2)-0;t.on("mousedown",t=>{t.stopPropagation();var a=e.offset(),r=a.top,l=a.left+e.width();e.css({top:r,right:l}),i.on("mousemove",t=>{if(t.stopPropagation(),t.clientX<0||t.clientY>s)o();else{var i=t.clientX+n>l?l-n:t.clientX;e.width(l-t.clientX),e.height(t.clientY-r),e.css({bottom:t.clientY,left:i+"px"})}})})}function E(t,e,o){var i=b()(document),s=i.height();t.on("mousedown",t=>{t.stopPropagation();var n=e.offset().top;e.css({top:n}),i.on("mousemove",t=>{t.stopPropagation(),t.clientY>s?o():(e.height(t.clientY-n),e.css({bottom:t.clientY+"px"}))})})}function j(t,e,o){var i=b()(document),s=i.width(),n=i.height();t.on("mousedown",t=>{t.stopPropagation();var a=e.offset().left,r=e.offset().top;e.css({left:a,top:r}),i.on("mousemove",t=>{t.stopPropagation(),t.clientX>s||t.clientY>n?o():(e.width(t.clientX-a),e.height(t.clientY-r),e.css({right:t.clientX+"px",bottom:t.clientY+"px"}))})})}function B(){var t=b()(document);t.on("mouseup",e=>{e.stopPropagation(),t.off("mousemove")})}function N(t){for(let e=1,o=9;e<o;e++)b()(t["dot"+e]).off()}var L={name:"DragDialog",mixins:[x],components:{ContextMenu:P},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"弹出框"},esc:{type:Boolean,default:!0},draggable:{type:Boolean,default:!0},dragNodeIsParent:{type:Boolean,default:!1},dragPosIsOverDoc:{type:Boolean,default:!1},isHasOwnMenu:{type:Boolean,default:!0},scaleable:{type:Boolean,default:!1}},data(){return{index:0,isShowDots:!0,isShowContextMenu:!1,contextMenuPosition:[]}},methods:{openDialog(){this.visible?this.active():this.$emit("update:visible",!0)},closeDialog(){this.$emit("update:visible",!1)},closeContextMenu(){this.isShowContextMenu=!1},destroyDialog(){this.closeDialog(),this.$nextTick(()=>{this.$destroy()})},active(){this.index=this.$dragDialogs.index++,this.$nextTick(()=>{this.$refs.input.focus()})},click(){this.active(),this.isShowContextMenu&&(this.isShowContextMenu=!1)},initDotsEvevnt(){M(b()(this.$refs["dot1"]),b()(this.$refs["dialog"]),this.active),k(b()(this.$refs["dot2"]),b()(this.$refs["dialog"]),this.active),_(b()(this.$refs["dot3"]),b()(this.$refs["dialog"]),this.active),X(b()(this.$refs["dot4"]),b()(this.$refs["dialog"]),this.active),Y(b()(this.$refs["dot5"]),b()(this.$refs["dialog"]),this.active),O(b()(this.$refs["dot6"]),b()(this.$refs["dialog"]),this.active),E(b()(this.$refs["dot7"]),b()(this.$refs["dialog"]),this.active),j(b()(this.$refs["dot8"]),b()(this.$refs["dialog"]),this.active),B()},initEvents(){if(this.$refs["input"].onkeydown=t=>{switch(t.keyCode){case 27:this.esc&&this.closeDialog();break;default:break}},this.isHasOwnMenu&&(this.$refs["dialog"].oncontextmenu=t=>{t.preventDefault();var e=this.$refs["dialog"].offsetLeft,o=this.$refs["dialog"].offsetTop;this.contextMenuPosition=[t.clientX-e,t.clientY-o],this.isShowContextMenu=!0}),this.scaleable){for(let t=1,e=9;t<e;t++)this.$refs["dot"+t].onmouseover=t=>{this.isShowDots=!0,this.isShowContextMenu=!1};this.initDotsEvevnt()}}},created(){this.$dragDialogs.addDialog(this)},mounted(){this.active(),this.initEvents()},beforeDestroy(){this.scaleable&&N(this.$refs)},watch:{visible(t){t?(this.$listeners.beforeOpen&&this.$emit("beforeOpen"),this.active()):this.$listeners.beforeClose&&this.$emit("beforeClose")}}},T=L,I=(o("e2f4"),Object(l["a"])(T,v,m,!1,null,"6afc654e",null)),A=I.exports;const q=[A];q.forEach(t=>{i["default"].component(t.name,t)});var H=o("5c96"),J=o.n(H);o("0fae");i["default"].use(J.a),i["default"].config.productionTip=!1,new i["default"]({router:p,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,o){"use strict";o("9c0c")},"5c64":function(t,e,o){"use strict";o("d32a")},"9c0c":function(t,e,o){},bf7d:function(t,e,o){},d32a:function(t,e,o){},e2f4:function(t,e,o){"use strict";o("430b")},efed:function(t,e,o){"use strict";o("f3fc")},f3fc:function(t,e,o){}});
//# sourceMappingURL=app.8a2763aa.js.map